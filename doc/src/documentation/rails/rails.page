---
title: Expectations
---
h2. RSpec on Rails - Expectations

In addition to the standard <a href="../expectations.html">Expectation API</a>, RSpec on Rails supports an ever-growing API for driving Ruby on Rails applications.

h3. Records

<ruby>
context "The Team model with no teams set up" do
  specify "should have no records" do
    Team.should_have(:no).records
  end
end

context "The Team model with two teams set up" do
  setup do
    Team.create {:name => "Da Bears"}
    Team.create {:name => "Da Sox"}
  end
  specify "should have two records" do
    Team.should_have(2).records
  end
end
</ruby>

h3. Tags

RSpec lets you specify view content by expecting specific tags to appear.

<ruby>
context "/teams/show/1" do
  controller :teams
  setup do
    Team.create {:name => "Brasil"}
    get '/teams/show/1'
  end
  specify "should display the team name" do
    response.should_have_tag '<div>', :content => 'Brasil'
  end
end
</ruby>
  
h4. RJS

RSpec lets you specify RJS calls in your views.

<ruby>
context "/teams/show/add_player" do
  controller :teams
  setup do
    get '/teams/show/add_player'
  end
  specify "should display the team name" do
    response.should_have_rjs :show, 'add_player'
  end
end
</ruby>
  

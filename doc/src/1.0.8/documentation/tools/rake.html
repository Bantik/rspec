<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>RSpec-1.0.8: Rake Task</title>
    <link href="../../default.css" rel="stylesheet" type="text/css" media="screen"/>
    <link href="../../breadcrumbs.css" rel="stylesheet" type="text/css" media="screen"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="RSpec, Rake Task, BDD, behaviour driven development, behavior driven development, TDD, test driven development, Ruby, Rails, testing, watir, selenium"/>
    <style><!--
    div.breadcrumbs ul li {
    	background-image: url(../../images/arrow.gif);
    }
    --></style>
  </head>
<body>

<div id="container">
  <div id="header">
    <h1>RSpec 1.0.8</h1>
  </div>

  <div class="breadcrumb-menu">
    <div class="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Home</a></li>
    <li><a href="../index.html">Documentation</a></li>
    <li><a href="index.html">Tools</a></li>
    <li class="selected"><span>Rake Task</span></li>
  </ul>
</div>
<div class="menu">
  <ul>
  </ul>
</div>

  </div>

  <div id="content">
    <h2>Rake Task</h2>


	<p>RSpec comes with a <a href="http://rake.rubyforge.org/">Rake</a> task for executing specs.
See <a href="../../rdoc/classes/Spec/Rake/SpecTask.html">Spec::Rake::SpecTask</a> API for details.</p>


	<h3>Rake task example</h3>


	<p>This is a snippet from RSpec&#8217;s own Rakefile. It creates a task to run the examples.</p>


<pre class="ruby"><code><span class="ident">require</span> <span class="punct">'</span><span class="string">rake</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">spec/rake/spectask</span><span class="punct">'</span>

<span class="ident">desc</span> <span class="punct">&quot;</span><span class="string">Run all examples</span><span class="punct">&quot;</span>
<span class="constant">Spec</span><span class="punct">::</span><span class="constant">Rake</span><span class="punct">::</span><span class="constant">SpecTask</span><span class="punct">.</span><span class="ident">new</span><span class="punct">('</span><span class="string">examples</span><span class="punct">')</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">t</span><span class="punct">|</span>
  <span class="ident">t</span><span class="punct">.</span><span class="ident">spec_files</span> <span class="punct">=</span> <span class="constant">FileList</span><span class="punct">['</span><span class="string">examples/**/*.rb</span><span class="punct">']</span>
<span class="keyword">end</span>
</code></pre>

	<p>It can be invoked from the command line with:</p>


<pre>
rake examples
</pre>

	<p>Also see the <a href="rcov.html">RCov</a> page for info about how to generate a coverage report.</p>


	<h3>Generate specdocs in RDoc format</h3>


<pre class="ruby"><code><span class="ident">require</span> <span class="punct">'</span><span class="string">rake</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">spec/rake/spectask</span><span class="punct">'</span>

<span class="ident">desc</span> <span class="punct">&quot;</span><span class="string">Generate specdocs for examples for inclusion in RDoc</span><span class="punct">&quot;</span>
<span class="constant">Spec</span><span class="punct">::</span><span class="constant">Rake</span><span class="punct">::</span><span class="constant">SpecTask</span><span class="punct">.</span><span class="ident">new</span><span class="punct">('</span><span class="string">examples_specdoc</span><span class="punct">')</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">t</span><span class="punct">|</span>
  <span class="ident">t</span><span class="punct">.</span><span class="ident">spec_files</span> <span class="punct">=</span> <span class="constant">FileList</span><span class="punct">['</span><span class="string">examples/**/*.rb</span><span class="punct">']</span>
  <span class="ident">t</span><span class="punct">.</span><span class="ident">spec_opts</span> <span class="punct">=</span> <span class="punct">[&quot;</span><span class="string">--format</span><span class="punct">&quot;,</span> <span class="punct">&quot;</span><span class="string">rdoc:EXAMPLES.rd</span><span class="punct">&quot;]</span>
<span class="keyword">end</span></code></pre>

	<p>This will write the specdocs to a file, which can be included in your RDoc. 
Just like <a href="../../rdoc/files/EXAMPLES_rd.html">this</a>.</p>


	<h3>Generate <span class="caps">HTML</span> report</h3>


<pre class="ruby"><code><span class="ident">require</span> <span class="punct">'</span><span class="string">rake</span><span class="punct">'</span>
<span class="ident">require</span> <span class="punct">'</span><span class="string">spec/rake/spectask</span><span class="punct">'</span>

<span class="ident">desc</span> <span class="punct">&quot;</span><span class="string">Generate HTML report for failing examples</span><span class="punct">&quot;</span>
<span class="constant">Spec</span><span class="punct">::</span><span class="constant">Rake</span><span class="punct">::</span><span class="constant">SpecTask</span><span class="punct">.</span><span class="ident">new</span><span class="punct">('</span><span class="string">failing_examples_with_html</span><span class="punct">')</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">t</span><span class="punct">|</span>
  <span class="ident">t</span><span class="punct">.</span><span class="ident">spec_files</span> <span class="punct">=</span> <span class="constant">FileList</span><span class="punct">['</span><span class="string">failing_examples/**/*.rb</span><span class="punct">']</span>
  <span class="ident">t</span><span class="punct">.</span><span class="ident">spec_opts</span> <span class="punct">=</span> <span class="punct">[&quot;</span><span class="string">--format</span><span class="punct">&quot;,</span> <span class="punct">&quot;</span><span class="string">html:../doc/output/documentation/tools/failing_examples.html</span><span class="punct">&quot;,</span> <span class="punct">&quot;</span><span class="string">--diff</span><span class="punct">&quot;]</span>
  <span class="ident">t</span><span class="punct">.</span><span class="ident">fail_on_error</span> <span class="punct">=</span> <span class="constant">false</span>
<span class="keyword">end</span></code></pre>

	<p>This will write a <span class="caps">HTML</span> file that looks like <a href="failing_examples.html">this</a>.</p>
    
    <div id="footer">
      Webdesign by <a href="http://www.oswd.org/user/profile/id/9462">JM</a>
      <SCRIPT type='text/javascript' language='JavaScript' src='http://www.ohloh.net/projects/4386;badge_js'></SCRIPT>
    </div>
  </div>
</div>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1889510-1";
urchinTracker();
</script>
</body>
</html>